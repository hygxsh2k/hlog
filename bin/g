#!/usr/bin/env perl

use strict;
use warnings;
use autodie;
use v5.26;
use Storable;

my $hlog_file = $ENV{HLOG} // "$ENV{HOME}/.hlog";
store {}, $hlog_file if (not -e $hlog_file);
my $hlog = retrieve $hlog_file;

my $cmd = join ' ', @ARGV;
$cmd = $hlog->{'$_'} if ($cmd eq '');

if (defined $hlog->{$cmd}->[0]) {
	print $hlog->{$cmd}->[0];
} else {
	die "[HLOG] not registered command: '$cmd'";
}
